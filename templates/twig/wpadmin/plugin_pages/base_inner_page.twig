{% import "/common/macros.twig" as icwp_macros %}

{% block inner_page_header %}

	{% if strings.inner_page_title|default('') is not empty %}
		<div class="row border-bottom mb-2 inner-page-header">
			<div class="col">
				<h4 class="mb-2 inner-page-header-title d-flex align-items-center">
					{% if imgs.inner_page_title_icon|default('') is not empty %}
						<i class="{{ imgs.inner_page_title_icon }}" aria-hidden="true"></i>
					{% endif %}
					<div class="d-inline-block">
						{% for breadcrumb in hrefs.breadcrumbs %}
							<a href="{{ breadcrumb.href }}"
							   title="{{ breadcrumb.title|default('') }}"
							   class="border-bottom">{{ breadcrumb.text }}</a>
							<span class="mx-1 fs-6" style="line-height: inherit">&raquo;</span>
						{% endfor %}
						{{ strings.inner_page_title|default(strings.no_inner_page_title) }}
					</div>
					{% block inner_page_title_after %}{% endblock %}
				</h4>
				{% if strings.inner_page_subtitle|default('') is not empty %}
					<p class="mb-2">
						<small class="inner-page-subtitle">
						{{ strings.inner_page_subtitle|default('') }}
						</small>
					</p>
				{% endif %}

			</div>
			{% if hrefs.dashboard_view_toggle|default('') is not empty %}
				{% set current_view = vars.dashboard_view.current|default('simple') %}
				{% if current_view not in [ 'simple', 'advanced' ] %}
					{% set current_view = 'simple' %}
				{% endif %}
				<div class="inner-page-header-view-toggle">
					<span class="dashboard-view-switch is-{{ current_view }}" data-dashboard-view-current="{{ current_view }}">
						<span class="dashboard-view-switch__label dashboard-view-switch__label--simple {{ current_view == 'simple' ? 'is-active' : '' }}">{{ strings.dashboard_view_simple_label|default('Simple View') }}</span>
						<a href="{{ hrefs.dashboard_view_toggle }}"
						   class="text-decoration-none dashboard-view-switch__toggle"
						   aria-label="{{ strings.dashboard_view_toggle_label|default('Toggle Dashboard View') }}">
							<span class="dashboard-view-switch__thumb" aria-hidden="true"></span>
						</a>
						<span class="dashboard-view-switch__label dashboard-view-switch__label--advanced {{ current_view == 'advanced' ? 'is-active' : '' }}">{{ strings.dashboard_view_advanced_label|default('Advanced View') }}</span>
					</span>
				</div>
			{% endif %}
			<div class="col-2 text-end inner-page-config">

				{% if hrefs.inner_page_contextual_hrefs|default([]) is not empty %}

					<div class="btn-group dropstart tour-navigation_v1"
						 data-introtitle="Action Menu"
						 data-introposition="left"
						 data-intro="Certain pages have their own specific actions. Use this menu for shortcuts to useful tools and options."
					>
						<button type="button"
								class="btn btn-link dropdown-toggle page-action-menu-toggle"
								data-bs-toggle="dropdown"
								aria-expanded="false"><i class="{{ imgs.svgs.menu }}" aria-hidden="true"></i></button>
							<ul class="dropdown-menu">
								{% for item in hrefs.inner_page_contextual_hrefs %}
									<li>
										{{ icwp_macros.tagAnchor(
											item.href,
											item.title,
											item.id|default(''),
											item.classes|default([])|merge(['dropdown-item']),
											item.new_window|default(false),
											item.data|default([]),
											item.disabled|default(false)
										) }}
									</li>
								{% endfor %}
							</ul>
						</div>

				{% endif %}
			</div>
		</div>
	{% endif %}

{% endblock %}

{% block inner_page_body %}
	{% for element in content|default([]) %}
		{{ element|raw }}
	{% endfor %}
{% endblock %}
