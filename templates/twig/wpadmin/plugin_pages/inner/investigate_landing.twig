{% extends '/wpadmin/plugin_pages/base_inner_page.twig' %}

{% block inner_page_body %}
	<div class="investigate-landing">
		<div class="card shield-card">
			<div class="shield-card-accent status-info"></div>
			<div class="card-body">
				<h5 class="card-title mb-1">{{ strings.selector_title }}</h5>
				<p class="text-muted small mb-3">{{ strings.selector_intro }}</p>

				<ul class="nav nav-pills row g-2 list-unstyled mb-3" id="investigateSubjectTabs" role="tablist">
					{% for subject in vars.subjects %}
						<li class="col-12 col-md-6 col-xl-4 nav-item" role="presentation">
							<a class="nav-link w-100 text-start {{ subject.is_active ? 'active' : '' }}"
							   id="{{ subject.tab_id }}-tab"
							   data-bs-toggle="tab"
							   href="#{{ subject.tab_id }}"
							   role="tab"
							   aria-controls="{{ subject.tab_id }}"
							   aria-selected="{{ subject.is_active ? 'true' : 'false' }}">
								{{ subject.subject_label }}
							</a>
						</li>
					{% endfor %}
				</ul>

				<div class="tab-content" id="investigateSubjectTabContent">
					{% for subject in vars.subjects %}
						<div class="tab-pane fade {{ subject.is_active ? 'show active' : '' }}"
							 id="{{ subject.tab_id }}"
							 role="tabpanel"
							 aria-labelledby="{{ subject.tab_id }}-tab">
							<p class="text-muted small mb-2">{{ strings.panel_intro }}</p>

							{% if subject.panel_type == 'lookup_text' or subject.panel_type == 'lookup_select' %}
								{% include '/wpadmin/components/investigate/lookup_panel.twig' with {
									subject: subject,
									strings: strings,
									flags: flags
								} only %}
							{% else %}
								<label class="form-label mb-2">{{ subject.panel_title }}</label>
								<div>
									<a href="{{ subject.href }}" class="btn btn-outline-primary">{{ subject.go_label }}</a>
								</div>
							{% endif %}
						</div>
					{% endfor %}
				</div>
			</div>
		</div>
	</div>
{% endblock %}
