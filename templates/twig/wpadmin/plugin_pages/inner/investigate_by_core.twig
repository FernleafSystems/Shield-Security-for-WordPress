{% extends '/wpadmin/plugin_pages/base_inner_page.twig' %}

{% block inner_page_body %}
	<div class="card shield-card mb-3">
		<div class="shield-card-accent status-info"></div>
		<div class="card-body d-flex justify-content-end">
			<a href="{{ hrefs.back_to_investigate }}" class="btn btn-outline-secondary">{{ strings.back_to_investigate }}</a>
		</div>
	</div>

	{% include '/wpadmin/components/investigate/subject_header.twig' with {
		subject: vars.subject
	} only %}

	<div class="row g-2 mb-3">
		{% for stat in vars.summary %}
			<div class="col-6 col-xl-3">
				<div class="card shield-card h-100">
					<div class="shield-card-accent status-{{ stat.status|default('info') }}"></div>
					<div class="card-body py-3">
						<div class="h4 mb-1">{{ stat.count|default(0) }}</div>
						<div class="text-muted small">{{ stat.label|default('') }}</div>
					</div>
				</div>
			</div>
		{% endfor %}
	</div>

	<div class="options_form_for--modern">
		<div class="shield-options-layout has-rail">
			<aside class="shield-options-rail">
				<div class="shield-options-rail-accent"></div>
				{% include '/components/config/options_rail_tabs.twig' with {
					nav_id: 'ShieldInvestigateByCoreTabsNav',
					nav_items: vars.rail_nav_items
				} only %}
			</aside>

			<div class="shield-options-content">
				<div class="tab-content">
					<section class="tab-pane shield-options-panel active show"
							 id="{{ vars.tabs.overview.pane_id }}"
							 role="tabpanel"
							 aria-labelledby="{{ vars.tabs.overview.nav_id }}">
						<div class="shield-options-panel-accent"></div>
						<div class="shield-options-panel-body">
							<div class="card shield-card status-info">
								<div class="shield-card-accent status-info"></div>
								<div class="card-body">
									<h5 class="card-title mb-3">{{ strings.overview_title }}</h5>
									<div class="table-responsive">
										<table class="table table-sm">
											<tbody>
											{% for row in vars.overview_rows|default([]) %}
												<tr>
													<th class="w-25">{{ row.label }}</th>
													<td>{{ row.value|default('') }}</td>
												</tr>
											{% endfor %}
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</section>

					<section class="tab-pane shield-options-panel"
							 id="{{ vars.tabs.file_status.pane_id }}"
							 role="tabpanel"
							 aria-labelledby="{{ vars.tabs.file_status.nav_id }}">
						<div class="shield-options-panel-accent"></div>
						<div class="shield-options-panel-body">
							{% include '/wpadmin/components/investigate/table_container.twig' with {
								table: vars.tables.file_status
							} only %}
						</div>
					</section>

					<section class="tab-pane shield-options-panel"
							 id="{{ vars.tabs.activity.pane_id }}"
							 role="tabpanel"
							 aria-labelledby="{{ vars.tabs.activity.nav_id }}">
						<div class="shield-options-panel-accent"></div>
						<div class="shield-options-panel-body">
							{% include '/wpadmin/components/investigate/table_container.twig' with {
								table: vars.tables.activity
							} only %}
						</div>
					</section>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
